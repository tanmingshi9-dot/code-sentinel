# ğŸ“ Code-Sentinel å‰ç«¯å¼€å‘è§„èŒƒ

| æ–‡æ¡£ç‰ˆæœ¬ | V1.0 |
| :--- | :--- |
| **é€‚ç”¨èŒƒå›´** | å‰ç«¯å¼€å‘æˆå‘˜ |
| **æŠ€æœ¯æ ˆ** | React 18 + TypeScript + Vite + shadcn/ui + UnoCSS |
| **å‚è€ƒé¡¹ç›®** | [shadcn/ui](https://ui.shadcn.com/)ã€[Bulletproof React](https://github.com/alan2207/bulletproof-react)ã€[Ant Design Pro](https://pro.ant.design/) |

---

## 1. é¡¹ç›®ç»“æ„è§„èŒƒ

### 1.1 ç›®å½•å¸ƒå±€

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API è¯·æ±‚å±‚
â”‚   â”‚   â”œâ”€â”€ client.ts        # Axios å®ä¾‹é…ç½®
â”‚   â”‚   â”œâ”€â”€ repos.ts         # ä»“åº“ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ reviews.ts       # å®¡æŸ¥ç›¸å…³ API
â”‚   â”‚   â””â”€â”€ feedbacks.ts     # åé¦ˆç›¸å…³ API
â”‚   â”œâ”€â”€ components/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/              # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ common/          # ä¸šåŠ¡é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ repos/           # ä»“åº“ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ reviews/         # å®¡æŸ¥å†å²æ¨¡å—
â”‚   â”‚   â””â”€â”€ feedbacks/       # åé¦ˆç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ stores/              # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ styles/              # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ constants/           # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx              # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx             # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ router.tsx           # è·¯ç”±é…ç½®
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ index.html
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ uno.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .eslintrc.cjs
â”œâ”€â”€ .prettierrc
â””â”€â”€ package.json
```

### 1.2 ç›®å½•èŒè´£è¯´æ˜

| ç›®å½• | èŒè´£ | ç¦æ­¢ |
|------|------|------|
| `api/` | API è¯·æ±‚å°è£…ã€ç±»å‹å®šä¹‰ | ç¦æ­¢å†™ä¸šåŠ¡é€»è¾‘ |
| `components/ui/` | shadcn/ui åŸºç¡€ç»„ä»¶ | ç¦æ­¢ä¿®æ”¹ï¼Œåªé€šè¿‡ CLI æ·»åŠ  |
| `components/common/` | ä¸šåŠ¡é€šç”¨ç»„ä»¶ | ç¦æ­¢åŒ…å«é¡µé¢çº§é€»è¾‘ |
| `pages/` | é¡µé¢ç»„ä»¶ã€é¡µé¢çº§çŠ¶æ€ | ç¦æ­¢è·¨é¡µé¢ç›´æ¥å¼•ç”¨ |
| `hooks/` | è‡ªå®šä¹‰ Hooks | ç¦æ­¢åŒ…å« UI æ¸²æŸ“ |
| `stores/` | å…¨å±€çŠ¶æ€ç®¡ç† | ç¦æ­¢ç›´æ¥è°ƒç”¨ API |
| `lib/` | çº¯å‡½æ•°å·¥å…· | ç¦æ­¢ä¾èµ– React |
| `types/` | ç±»å‹å®šä¹‰ | ç¦æ­¢åŒ…å«è¿è¡Œæ—¶ä»£ç  |

### 1.3 æ¨¡å—åŒ–ç»„ç»‡ï¼ˆFeature-Basedï¼‰

æ¯ä¸ªåŠŸèƒ½æ¨¡å—é‡‡ç”¨è‡ªåŒ…å«ç»“æ„ï¼š

```
pages/repos/
â”œâ”€â”€ index.tsx              # æ¨¡å—å…¥å£ï¼ˆå¯¼å‡ºé¡µé¢ç»„ä»¶ï¼‰
â”œâ”€â”€ RepoListPage.tsx       # åˆ—è¡¨é¡µ
â”œâ”€â”€ RepoCreatePage.tsx     # æ–°å»ºé¡µ
â”œâ”€â”€ RepoConfigPage.tsx     # é…ç½®é¡µ
â”œâ”€â”€ components/            # æ¨¡å—ç§æœ‰ç»„ä»¶
â”‚   â”œâ”€â”€ RepoTable.tsx
â”‚   â”œâ”€â”€ RepoForm.tsx
â”‚   â””â”€â”€ ConfigSection.tsx
â”œâ”€â”€ hooks/                 # æ¨¡å—ç§æœ‰ Hooks
â”‚   â””â”€â”€ useRepoConfig.ts
â””â”€â”€ types.ts               # æ¨¡å—ç§æœ‰ç±»å‹
```

---

## 2. å‘½åè§„èŒƒ

### 2.1 æ–‡ä»¶å‘½å

| ç±»å‹ | å‘½åè§„åˆ™ | ç¤ºä¾‹ |
|------|----------|------|
| ç»„ä»¶æ–‡ä»¶ | PascalCase | `RepoTable.tsx`, `StatusBadge.tsx` |
| Hook æ–‡ä»¶ | camelCase + use å‰ç¼€ | `useRepos.ts`, `useDebounce.ts` |
| å·¥å…·å‡½æ•° | camelCase | `formatDate.ts`, `request.ts` |
| ç±»å‹æ–‡ä»¶ | camelCase | `repo.ts`, `review.ts` |
| æ ·å¼æ–‡ä»¶ | camelCase | `globals.css`, `variables.css` |
| å¸¸é‡æ–‡ä»¶ | camelCase | `config.ts`, `routes.ts` |

### 2.2 ç»„ä»¶å‘½å

```tsx
// âœ… ç»„ä»¶åä¸æ–‡ä»¶åä¸€è‡´ï¼Œä½¿ç”¨ PascalCase
// æ–‡ä»¶: RepoTable.tsx
export function RepoTable() {}

// âœ… é¡µé¢ç»„ä»¶ä»¥ Page ç»“å°¾
export function RepoListPage() {}
export function RepoConfigPage() {}

// âœ… å¸ƒå±€ç»„ä»¶ä»¥ Layout ç»“å°¾
export function MainLayout() {}
export function SidebarLayout() {}

// âŒ ç¦æ­¢ä½¿ç”¨é»˜è®¤å¯¼å‡ºçš„åŒ¿åç»„ä»¶
export default function() {}  // ç¦æ­¢
export default () => {}       // ç¦æ­¢
```

### 2.3 å˜é‡ä¸å‡½æ•°å‘½å

```tsx
// å˜é‡ï¼šcamelCase
const userName = 'John';
const isLoading = true;
const repoList = [];

// å¸¸é‡ï¼šUPPER_SNAKE_CASE
const API_BASE_URL = '/api/v1';
const MAX_PAGE_SIZE = 100;
const DEFAULT_TIMEOUT = 30000;

// å‡½æ•°ï¼šcamelCaseï¼ŒåŠ¨è¯å¼€å¤´
function fetchRepos() {}
function handleSubmit() {}
function formatDate() {}

// å¸ƒå°”å˜é‡ï¼šis/has/can/should å‰ç¼€
const isVisible = true;
const hasPermission = false;
const canEdit = true;
const shouldRefresh = false;

// äº‹ä»¶å¤„ç†å‡½æ•°ï¼šhandle å‰ç¼€
function handleClick() {}
function handleInputChange() {}
function handleFormSubmit() {}

// å›è°ƒ Propsï¼šon å‰ç¼€
interface Props {
  onClick: () => void;
  onSubmit: (data: FormData) => void;
  onChange: (value: string) => void;
}
```

### 2.4 ç±»å‹å‘½å

```tsx
// æ¥å£ï¼šPascalCaseï¼Œä¸åŠ  I å‰ç¼€
interface User {}
interface RepoConfig {}

// ç±»å‹åˆ«åï¼šPascalCase
type Status = 'pending' | 'running' | 'completed';
type ReviewFilter = { repo?: string; status?: string };

// Props ç±»å‹ï¼šç»„ä»¶å + Props
interface RepoTableProps {}
interface StatusBadgeProps {}

// API å“åº”ç±»å‹ï¼šä»¥ Response ç»“å°¾
interface RepoListResponse {}
interface ReviewDetailResponse {}

// API è¯·æ±‚ç±»å‹ï¼šä»¥ Request ç»“å°¾
interface CreateRepoRequest {}
interface UpdateConfigRequest {}

// æšä¸¾ï¼šPascalCaseï¼Œæˆå‘˜ä¹Ÿæ˜¯ PascalCase
enum ReviewStatus {
  Pending = 'pending',
  Running = 'running',
  Completed = 'completed',
}
```

---

## 3. ç»„ä»¶è§„èŒƒ

### 3.1 ç»„ä»¶ç»“æ„

```tsx
// 1. å¯¼å…¥é¡ºåºï¼šReact â†’ ç¬¬ä¸‰æ–¹åº“ â†’ å†…éƒ¨æ¨¡å— â†’ ç±»å‹ â†’ æ ·å¼
import { useState, useEffect } from 'react';

import { useQuery } from '@tanstack/react-query';
import { toast } from 'sonner';

import { Button } from '@/components/ui/button';
import { reposApi } from '@/api/repos';
import { formatDate } from '@/lib/utils';

import type { Repo } from '@/types/repo';

// 2. ç±»å‹å®šä¹‰
interface RepoTableProps {
  repos: Repo[];
  onEdit: (id: number) => void;
  onDelete: (id: number) => void;
}

// 3. ç»„ä»¶å®šä¹‰ï¼ˆä½¿ç”¨å‡½æ•°å£°æ˜ï¼Œéç®­å¤´å‡½æ•°ï¼‰
export function RepoTable({ repos, onEdit, onDelete }: RepoTableProps) {
  // 3.1 Hooksï¼ˆæŒ‰é¡ºåºï¼šçŠ¶æ€ â†’ æ´¾ç”Ÿ â†’ å‰¯ä½œç”¨ï¼‰
  const [selectedId, setSelectedId] = useState<number | null>(null);
  
  const selectedRepo = repos.find(r => r.id === selectedId);
  
  useEffect(() => {
    // å‰¯ä½œç”¨é€»è¾‘
  }, []);

  // 3.2 äº‹ä»¶å¤„ç†å‡½æ•°
  const handleRowClick = (id: number) => {
    setSelectedId(id);
  };

  // 3.3 æ¸²æŸ“
  return (
    <table>
      {/* JSX */}
    </table>
  );
}
```

### 3.2 ç»„ä»¶è®¾è®¡åŸåˆ™

#### å•ä¸€èŒè´£
```tsx
// âŒ ç»„ä»¶èŒè´£è¿‡å¤š
function RepoPage() {
  // åŒ…å«åˆ—è¡¨ã€è¡¨å•ã€å¼¹çª—ã€ç­›é€‰...
}

// âœ… æ‹†åˆ†ä¸ºå¤šä¸ªç»„ä»¶
function RepoListPage() {
  return (
    <>
      <RepoFilter />
      <RepoTable />
      <RepoDetailDialog />
    </>
  );
}
```

#### Props è®¾è®¡
```tsx
// âœ… Props æ•°é‡æ§åˆ¶åœ¨ 5 ä¸ªä»¥å†…
interface ButtonProps {
  variant: 'primary' | 'secondary';
  size: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  onClick: () => void;
}

// âœ… è¶…è¿‡ 5 ä¸ªæ—¶ï¼Œè€ƒè™‘åˆ†ç»„æˆ–ä½¿ç”¨ children
interface DialogProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  children: React.ReactNode;
}
```

#### ç»„ä»¶å¤ç”¨
```tsx
// âœ… é€šç”¨ç»„ä»¶æ”¾ components/common/
// æ–‡ä»¶: components/common/StatusBadge.tsx
interface StatusBadgeProps {
  status: 'success' | 'error' | 'warning' | 'info';
  children: React.ReactNode;
}

export function StatusBadge({ status, children }: StatusBadgeProps) {
  const variants = {
    success: 'bg-green-100 text-green-800',
    error: 'bg-red-100 text-red-800',
    warning: 'bg-yellow-100 text-yellow-800',
    info: 'bg-blue-100 text-blue-800',
  };
  
  return (
    <span className={`px-2 py-1 rounded text-sm ${variants[status]}`}>
      {children}
    </span>
  );
}
```

### 3.3 æ¡ä»¶æ¸²æŸ“

```tsx
// âœ… ç®€å•æ¡ä»¶ç”¨ &&
{isLoading && <Spinner />}

// âœ… äºŒé€‰ä¸€ç”¨ä¸‰å…ƒ
{isError ? <ErrorMessage /> : <Content />}

// âœ… å¤šæ¡ä»¶ç”¨æå‰ return æˆ–å˜é‡
function StatusDisplay({ status }: { status: string }) {
  if (status === 'loading') return <Spinner />;
  if (status === 'error') return <ErrorMessage />;
  return <Content />;
}

// âŒ é¿å…åµŒå¥—ä¸‰å…ƒ
{a ? (b ? <A /> : <B />) : (c ? <C /> : <D />)}  // ç¦æ­¢
```

### 3.4 åˆ—è¡¨æ¸²æŸ“

```tsx
// âœ… ä½¿ç”¨ç¨³å®šçš„ key
{repos.map(repo => (
  <RepoCard key={repo.id} repo={repo} />
))}

// âŒ ç¦æ­¢ä½¿ç”¨ index ä½œä¸º keyï¼ˆé™¤éåˆ—è¡¨ä¸ä¼šå˜åŒ–ï¼‰
{repos.map((repo, index) => (
  <RepoCard key={index} repo={repo} />  // ç¦æ­¢
))}

// âœ… ç©ºåˆ—è¡¨å¤„ç†
{repos.length === 0 ? (
  <EmptyState message="æš‚æ— ä»“åº“" />
) : (
  repos.map(repo => <RepoCard key={repo.id} repo={repo} />)
)}
```

---

## 4. Hooks è§„èŒƒ

### 4.1 è‡ªå®šä¹‰ Hook è®¾è®¡

```tsx
// æ–‡ä»¶: hooks/useDebounce.ts
import { useState, useEffect } from 'react';

/**
 * é˜²æŠ– Hook
 * @param value éœ€è¦é˜²æŠ–çš„å€¼
 * @param delay å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
 */
export function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay);
    return () => clearTimeout(timer);
  }, [value, delay]);

  return debouncedValue;
}
```

### 4.2 React Query ä½¿ç”¨è§„èŒƒ

```tsx
// æ–‡ä»¶: hooks/useRepos.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { reposApi } from '@/api/repos';

// Query Keys ç»Ÿä¸€ç®¡ç†
export const repoKeys = {
  all: ['repos'] as const,
  lists: () => [...repoKeys.all, 'list'] as const,
  list: (filters: RepoFilters) => [...repoKeys.lists(), filters] as const,
  details: () => [...repoKeys.all, 'detail'] as const,
  detail: (id: number) => [...repoKeys.details(), id] as const,
};

// æŸ¥è¯¢ Hook
export function useRepos(filters: RepoFilters) {
  return useQuery({
    queryKey: repoKeys.list(filters),
    queryFn: () => reposApi.list(filters),
    staleTime: 5 * 60 * 1000, // 5 åˆ†é’Ÿå†…ä¸é‡æ–°è¯·æ±‚
  });
}

export function useRepo(id: number) {
  return useQuery({
    queryKey: repoKeys.detail(id),
    queryFn: () => reposApi.get(id),
    enabled: !!id, // id å­˜åœ¨æ—¶æ‰è¯·æ±‚
  });
}

// å˜æ›´ Hook
export function useCreateRepo() {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: reposApi.create,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: repoKeys.lists() });
      toast.success('ä»“åº“åˆ›å»ºæˆåŠŸ');
    },
    onError: (error) => {
      toast.error(`åˆ›å»ºå¤±è´¥: ${error.message}`);
    },
  });
}

export function useDeleteRepo() {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: reposApi.delete,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: repoKeys.lists() });
      toast.success('ä»“åº“åˆ é™¤æˆåŠŸ');
    },
  });
}
```

### 4.3 Zustand çŠ¶æ€ç®¡ç†

```tsx
// æ–‡ä»¶: stores/filterStore.ts
import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';

interface FilterState {
  // çŠ¶æ€
  repoFilter: {
    search: string;
    page: number;
    pageSize: number;
  };
  reviewFilter: {
    repoId: number | null;
    status: string | null;
    dateRange: [string, string] | null;
  };
  
  // Actions
  setRepoFilter: (filter: Partial<FilterState['repoFilter']>) => void;
  setReviewFilter: (filter: Partial<FilterState['reviewFilter']>) => void;
  resetFilters: () => void;
}

const initialState = {
  repoFilter: { search: '', page: 1, pageSize: 20 },
  reviewFilter: { repoId: null, status: null, dateRange: null },
};

export const useFilterStore = create<FilterState>()(
  devtools(
    persist(
      (set) => ({
        ...initialState,
        
        setRepoFilter: (filter) =>
          set((state) => ({
            repoFilter: { ...state.repoFilter, ...filter },
          })),
          
        setReviewFilter: (filter) =>
          set((state) => ({
            reviewFilter: { ...state.reviewFilter, ...filter },
          })),
          
        resetFilters: () => set(initialState),
      }),
      { name: 'filter-storage' }
    )
  )
);
```

---

## 5. API è¯·æ±‚è§„èŒƒ

### 5.1 Axios å®ä¾‹é…ç½®

```tsx
// æ–‡ä»¶: api/client.ts
import axios, { AxiosError } from 'axios';
import { toast } from 'sonner';

// åˆ›å»ºå®ä¾‹
export const client = axios.create({
  baseURL: '/api/v1',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// å“åº”æ‹¦æˆªå™¨
client.interceptors.response.use(
  (response) => {
    const { code, message, data } = response.data;
    
    // ä¸šåŠ¡é”™è¯¯
    if (code !== 0) {
      toast.error(message || 'è¯·æ±‚å¤±è´¥');
      return Promise.reject(new Error(message));
    }
    
    return data;
  },
  (error: AxiosError) => {
    // ç½‘ç»œé”™è¯¯
    if (!error.response) {
      toast.error('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
      return Promise.reject(error);
    }
    
    // HTTP é”™è¯¯
    const status = error.response.status;
    const messages: Record<number, string> = {
      400: 'è¯·æ±‚å‚æ•°é”™è¯¯',
      401: 'æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•',
      403: 'æ²¡æœ‰æƒé™è®¿é—®',
      404: 'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨',
      500: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯',
    };
    
    toast.error(messages[status] || `è¯·æ±‚å¤±è´¥ (${status})`);
    return Promise.reject(error);
  }
);
```

### 5.2 API æ¨¡å—å°è£…

```tsx
// æ–‡ä»¶: api/repos.ts
import { client } from './client';
import type { Repo, CreateRepoRequest, UpdateRepoRequest } from '@/types/repo';

export interface RepoListParams {
  page?: number;
  pageSize?: number;
  search?: string;
}

export interface PaginatedResponse<T> {
  items: T[];
  total: number;
  page: number;
  pageSize: number;
}

export const reposApi = {
  // è·å–åˆ—è¡¨
  list: (params: RepoListParams = {}) =>
    client.get<PaginatedResponse<Repo>>('/repos', { params }),

  // è·å–è¯¦æƒ…
  get: (id: number) =>
    client.get<Repo>(`/repos/${id}`),

  // åˆ›å»º
  create: (data: CreateRepoRequest) =>
    client.post<Repo>('/repos', data),

  // æ›´æ–°
  update: (id: number, data: UpdateRepoRequest) =>
    client.put<Repo>(`/repos/${id}`, data),

  // åˆ é™¤
  delete: (id: number) =>
    client.delete(`/repos/${id}`),

  // åˆ‡æ¢çŠ¶æ€
  toggle: (id: number, enabled: boolean) =>
    client.put<Repo>(`/repos/${id}/toggle`, { enabled }),
};
```

---

## 6. TypeScript è§„èŒƒ

### 6.1 ç±»å‹å®šä¹‰

```tsx
// æ–‡ä»¶: types/repo.ts

// åŸºç¡€ç±»å‹
export interface Repo {
  id: number;
  fullName: string;
  owner: string;
  name: string;
  enabled: boolean;
  config: RepoConfig | null;
  lastReviewAt: string | null;
  reviewCount: number;
  createdAt: string;
  updatedAt: string;
}

export interface RepoConfig {
  llmProvider: LLMProvider;
  model: string;
  maxTokens: number;
  systemPrompt: string;
  reviewFocus: ReviewFocus[];
  minSeverity: Severity;
  languages: string[];
  ignoreFiles: string[];
  maxDiffLines: number;
  autoReview: boolean;
}

// æšä¸¾ç±»å‹
export type LLMProvider = 'openai' | 'qwen' | 'azure' | 'ollama';
export type Severity = 'P0' | 'P1' | 'P2';
export type ReviewFocus = 'security' | 'performance' | 'logic' | 'style';
export type ReviewStatus = 'pending' | 'running' | 'completed' | 'failed' | 'skipped';

// è¯·æ±‚ç±»å‹
export interface CreateRepoRequest {
  fullName: string;
  webhookSecret?: string;
  enabled?: boolean;
  config?: Partial<RepoConfig>;
}

export interface UpdateRepoRequest {
  webhookSecret?: string;
  enabled?: boolean;
  config?: Partial<RepoConfig>;
}
```

### 6.2 ç±»å‹ä½¿ç”¨åŸåˆ™

```tsx
// âœ… ä¼˜å…ˆä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç±»å‹
interface User {
  id: number;
  name: string;
}

// âœ… ä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹ã€äº¤å‰ç±»å‹
type Status = 'active' | 'inactive';
type UserWithRole = User & { role: string };

// âœ… ä½¿ç”¨æ³›å‹æé«˜å¤ç”¨æ€§
interface ApiResponse<T> {
  code: number;
  message: string;
  data: T;
}

// âœ… ä½¿ç”¨ Partialã€Pickã€Omit ç­‰å·¥å…·ç±»å‹
type UpdateUser = Partial<User>;
type UserPreview = Pick<User, 'id' | 'name'>;
type UserWithoutId = Omit<User, 'id'>;

// âŒ ç¦æ­¢ä½¿ç”¨ any
const data: any = {};  // ç¦æ­¢

// âœ… ä¸ç¡®å®šç±»å‹æ—¶ä½¿ç”¨ unknown
const data: unknown = {};
if (typeof data === 'object' && data !== null) {
  // ç±»å‹æ”¶çª„åä½¿ç”¨
}
```

### 6.3 ç»„ä»¶ Props ç±»å‹

```tsx
// âœ… ä½¿ç”¨ interface å®šä¹‰ Props
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
}

// âœ… ç»§æ‰¿åŸç”Ÿå…ƒç´ å±æ€§
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary';
  loading?: boolean;
}

// âœ… ä½¿ç”¨ ComponentProps è·å–ç»„ä»¶ Props
import { ComponentProps } from 'react';
import { Button } from '@/components/ui/button';

type MyButtonProps = ComponentProps<typeof Button> & {
  customProp: string;
};
```

---

## 7. æ ·å¼è§„èŒƒ

### 7.1 UnoCSS / Tailwind ä½¿ç”¨

```tsx
// âœ… ä½¿ç”¨åŸå­ç±»
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow">
  <span className="text-lg font-medium text-gray-900">æ ‡é¢˜</span>
  <button className="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600">
    æŒ‰é’®
  </button>
</div>

// âœ… æ¡ä»¶ç±»åä½¿ç”¨ clsx æˆ– cn
import { cn } from '@/lib/utils';

<button
  className={cn(
    'px-4 py-2 rounded',
    variant === 'primary' && 'bg-blue-500 text-white',
    variant === 'secondary' && 'bg-gray-200 text-gray-800',
    disabled && 'opacity-50 cursor-not-allowed'
  )}
>
  æŒ‰é’®
</button>

// âŒ ç¦æ­¢å†…è” styleï¼ˆé™¤éåŠ¨æ€è®¡ç®—ï¼‰
<div style={{ marginTop: '10px' }}>  // ç¦æ­¢

// âœ… åŠ¨æ€å€¼å¯ä»¥ä½¿ç”¨ style
<div style={{ width: `${progress}%` }}>
```

### 7.2 cn å·¥å…·å‡½æ•°

```tsx
// æ–‡ä»¶: lib/utils.ts
import { type ClassValue, clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

### 7.3 å“åº”å¼è®¾è®¡

```tsx
// âœ… ç§»åŠ¨ä¼˜å…ˆï¼Œä½¿ç”¨æ–­ç‚¹å‰ç¼€
<div className="
  grid grid-cols-1 gap-4
  md:grid-cols-2
  lg:grid-cols-3
  xl:grid-cols-4
">
  {/* å†…å®¹ */}
</div>

// æ–­ç‚¹å®šä¹‰ï¼ˆé»˜è®¤ï¼‰
// sm: 640px
// md: 768px
// lg: 1024px
// xl: 1280px
// 2xl: 1536px
```

### 7.4 æš—è‰²æ¨¡å¼

```tsx
// âœ… ä½¿ç”¨ dark: å‰ç¼€
<div className="bg-white dark:bg-gray-900">
  <span className="text-gray-900 dark:text-gray-100">
    æ–‡æœ¬å†…å®¹
  </span>
</div>
```

---

## 8. è·¯ç”±è§„èŒƒ

### 8.1 è·¯ç”±é…ç½®

```tsx
// æ–‡ä»¶: router.tsx
import { createBrowserRouter, Navigate } from 'react-router-dom';
import { MainLayout } from '@/components/layout/MainLayout';

// æ‡’åŠ è½½é¡µé¢
const RepoListPage = lazy(() => import('@/pages/repos/RepoListPage'));
const RepoCreatePage = lazy(() => import('@/pages/repos/RepoCreatePage'));
const RepoConfigPage = lazy(() => import('@/pages/repos/RepoConfigPage'));
const ReviewListPage = lazy(() => import('@/pages/reviews/ReviewListPage'));
const FeedbackListPage = lazy(() => import('@/pages/feedbacks/FeedbackListPage'));

export const router = createBrowserRouter([
  {
    path: '/',
    element: <MainLayout />,
    children: [
      { index: true, element: <Navigate to="/repos" replace /> },
      {
        path: 'repos',
        children: [
          { index: true, element: <RepoListPage /> },
          { path: 'new', element: <RepoCreatePage /> },
          { path: ':id', element: <RepoConfigPage /> },
        ],
      },
      { path: 'reviews', element: <ReviewListPage /> },
      { path: 'feedbacks', element: <FeedbackListPage /> },
    ],
  },
]);
```

### 8.2 è·¯ç”±å¸¸é‡

```tsx
// æ–‡ä»¶: constants/routes.ts
export const ROUTES = {
  HOME: '/',
  REPOS: {
    LIST: '/repos',
    CREATE: '/repos/new',
    DETAIL: (id: number | string) => `/repos/${id}`,
  },
  REVIEWS: {
    LIST: '/reviews',
    DETAIL: (id: number | string) => `/reviews/${id}`,
  },
  FEEDBACKS: {
    LIST: '/feedbacks',
  },
} as const;

// ä½¿ç”¨
import { ROUTES } from '@/constants/routes';
navigate(ROUTES.REPOS.DETAIL(123));
```

---

## 9. è¡¨å•è§„èŒƒ

### 9.1 è¡¨å•åº“é€‰æ‹©

æ¨èä½¿ç”¨ **React Hook Form** + **Zod** è¿›è¡Œè¡¨å•å¤„ç†å’Œæ ¡éªŒã€‚

```tsx
// æ–‡ä»¶: pages/repos/RepoCreatePage.tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

// å®šä¹‰æ ¡éªŒ Schema
const createRepoSchema = z.object({
  fullName: z
    .string()
    .min(1, 'ä»“åº“åä¸èƒ½ä¸ºç©º')
    .regex(/^[a-zA-Z0-9_.-]+\/[a-zA-Z0-9_.-]+$/, 'æ ¼å¼åº”ä¸º owner/repo'),
  webhookSecret: z.string().optional(),
  enabled: z.boolean().default(true),
});

type CreateRepoForm = z.infer<typeof createRepoSchema>;

export function RepoCreatePage() {
  const { register, handleSubmit, formState: { errors, isSubmitting } } = useForm<CreateRepoForm>({
    resolver: zodResolver(createRepoSchema),
    defaultValues: {
      fullName: '',
      webhookSecret: '',
      enabled: true,
    },
  });

  const createRepo = useCreateRepo();

  const onSubmit = async (data: CreateRepoForm) => {
    await createRepo.mutateAsync(data);
    navigate(ROUTES.REPOS.LIST);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <div>
        <label>ä»“åº“åç§°</label>
        <input {...register('fullName')} placeholder="owner/repo" />
        {errors.fullName && <span className="text-red-500">{errors.fullName.message}</span>}
      </div>
      
      <button type="submit" disabled={isSubmitting}>
        {isSubmitting ? 'åˆ›å»ºä¸­...' : 'åˆ›å»ºä»“åº“'}
      </button>
    </form>
  );
}
```

### 9.2 è¡¨å•æ ¡éªŒè§„åˆ™

```tsx
// æ–‡ä»¶: lib/validations/repo.ts
import { z } from 'zod';

export const repoConfigSchema = z.object({
  llmProvider: z.enum(['openai', 'qwen', 'azure', 'ollama']),
  model: z.string().min(1, 'è¯·é€‰æ‹©æ¨¡å‹'),
  maxTokens: z.number().min(100).max(32000),
  systemPrompt: z.string().max(10000, 'æç¤ºè¯ä¸èƒ½è¶…è¿‡ 10000 å­—ç¬¦'),
  reviewFocus: z.array(z.enum(['security', 'performance', 'logic', 'style'])).min(1, 'è‡³å°‘é€‰æ‹©ä¸€ä¸ªå®¡æŸ¥é‡ç‚¹'),
  minSeverity: z.enum(['P0', 'P1', 'P2']),
  languages: z.array(z.string()).min(1, 'è‡³å°‘é€‰æ‹©ä¸€ç§è¯­è¨€'),
  ignoreFiles: z.array(z.string()),
  maxDiffLines: z.number().min(100).max(50000),
  autoReview: z.boolean(),
});
```

---

## 10. é”™è¯¯å¤„ç†è§„èŒƒ

### 10.1 é”™è¯¯è¾¹ç•Œ

```tsx
// æ–‡ä»¶: components/common/ErrorBoundary.tsx
import { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export class ErrorBoundary extends Component<Props, State> {
  state: State = { hasError: false, error: null };

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('ErrorBoundary caught:', error, errorInfo);
    // å¯ä»¥ä¸ŠæŠ¥é”™è¯¯åˆ°ç›‘æ§ç³»ç»Ÿ
  }

  render() {
    if (this.state.hasError) {
      return this.props.fallback || (
        <div className="flex flex-col items-center justify-center min-h-[400px]">
          <h2 className="text-xl font-semibold text-gray-900">å‡ºé”™äº†</h2>
          <p className="mt-2 text-gray-500">{this.state.error?.message}</p>
          <button
            className="mt-4 px-4 py-2 bg-blue-500 text-white rounded"
            onClick={() => window.location.reload()}
          >
            åˆ·æ–°é¡µé¢
          </button>
        </div>
      );
    }

    return this.props.children;
  }
}
```

### 10.2 åŠ è½½ä¸é”™è¯¯çŠ¶æ€

```tsx
// âœ… ç»Ÿä¸€å¤„ç†åŠ è½½ã€é”™è¯¯ã€ç©ºçŠ¶æ€
function RepoListPage() {
  const { data, isLoading, isError, error } = useRepos(filters);

  if (isLoading) {
    return <LoadingSpinner />;
  }

  if (isError) {
    return <ErrorMessage message={error.message} onRetry={() => refetch()} />;
  }

  if (!data?.items.length) {
    return <EmptyState message="æš‚æ— ä»“åº“" action={<CreateRepoButton />} />;
  }

  return <RepoTable repos={data.items} />;
}
```

### 10.3 Toast æç¤º

```tsx
import { toast } from 'sonner';

// âœ… æˆåŠŸæç¤º
toast.success('æ“ä½œæˆåŠŸ');

// âœ… é”™è¯¯æç¤º
toast.error('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•');

// âœ… å¸¦æè¿°çš„æç¤º
toast.success('ä»“åº“åˆ›å»ºæˆåŠŸ', {
  description: 'å·²è‡ªåŠ¨å¯ç”¨ä»£ç å®¡æŸ¥',
});

// âœ… ç¡®è®¤æ“ä½œ
toast.promise(deleteRepo(id), {
  loading: 'åˆ é™¤ä¸­...',
  success: 'åˆ é™¤æˆåŠŸ',
  error: 'åˆ é™¤å¤±è´¥',
});
```

---

## 11. æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### 11.1 ç»„ä»¶ä¼˜åŒ–

```tsx
// âœ… ä½¿ç”¨ memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
import { memo } from 'react';

export const RepoCard = memo(function RepoCard({ repo }: { repo: Repo }) {
  return <div>{repo.fullName}</div>;
});

// âœ… ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const filteredRepos = useMemo(
  () => repos.filter(r => r.fullName.includes(search)),
  [repos, search]
);

// âœ… ä½¿ç”¨ useCallback ç¼“å­˜å›è°ƒå‡½æ•°
const handleDelete = useCallback((id: number) => {
  deleteRepo(id);
}, [deleteRepo]);
```

### 11.2 ä»£ç åˆ†å‰²

```tsx
// âœ… è·¯ç”±çº§åˆ«æ‡’åŠ è½½
const RepoListPage = lazy(() => import('@/pages/repos/RepoListPage'));

// âœ… ç»„ä»¶çº§åˆ«æ‡’åŠ è½½ï¼ˆå¤§å‹ç»„ä»¶ï¼‰
const CodeEditor = lazy(() => import('@/components/common/CodeEditor'));

// âœ… é…åˆ Suspense ä½¿ç”¨
<Suspense fallback={<LoadingSpinner />}>
  <RepoListPage />
</Suspense>
```

### 11.3 åˆ—è¡¨è™šæ‹ŸåŒ–

```tsx
// âœ… å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
import { useVirtualizer } from '@tanstack/react-virtual';

function VirtualList({ items }: { items: Item[] }) {
  const parentRef = useRef<HTMLDivElement>(null);
  
  const virtualizer = useVirtualizer({
    count: items.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 50,
  });

  return (
    <div ref={parentRef} className="h-[400px] overflow-auto">
      <div style={{ height: `${virtualizer.getTotalSize()}px`, position: 'relative' }}>
        {virtualizer.getVirtualItems().map((virtualItem) => (
          <div
            key={virtualItem.key}
            style={{
              position: 'absolute',
              top: 0,
              left: 0,
              width: '100%',
              transform: `translateY(${virtualItem.start}px)`,
            }}
          >
            {items[virtualItem.index].name}
          </div>
        ))}
      </div>
    </div>
  );
}
```

---

## 12. æµ‹è¯•è§„èŒƒ

### 12.1 æµ‹è¯•æ–‡ä»¶å‘½å

```
ComponentName.tsx        # ç»„ä»¶æ–‡ä»¶
ComponentName.test.tsx   # æµ‹è¯•æ–‡ä»¶ï¼ˆåŒç›®å½•ï¼‰
```

### 12.2 æµ‹è¯•å·¥å…·

- **å•å…ƒæµ‹è¯•**: Vitest
- **ç»„ä»¶æµ‹è¯•**: React Testing Library
- **E2E æµ‹è¯•**: Playwrightï¼ˆå¯é€‰ï¼‰

### 12.3 æµ‹è¯•ç¤ºä¾‹

```tsx
// æ–‡ä»¶: components/common/StatusBadge.test.tsx
import { render, screen } from '@testing-library/react';
import { describe, it, expect } from 'vitest';
import { StatusBadge } from './StatusBadge';

describe('StatusBadge', () => {
  it('renders children correctly', () => {
    render(<StatusBadge status="success">æˆåŠŸ</StatusBadge>);
    expect(screen.getByText('æˆåŠŸ')).toBeInTheDocument();
  });

  it('applies correct class for success status', () => {
    render(<StatusBadge status="success">æˆåŠŸ</StatusBadge>);
    const badge = screen.getByText('æˆåŠŸ');
    expect(badge).toHaveClass('bg-green-100');
  });

  it('applies correct class for error status', () => {
    render(<StatusBadge status="error">å¤±è´¥</StatusBadge>);
    const badge = screen.getByText('å¤±è´¥');
    expect(badge).toHaveClass('bg-red-100');
  });
});
```

### 12.4 Hook æµ‹è¯•

```tsx
// æ–‡ä»¶: hooks/useDebounce.test.ts
import { renderHook, act } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import { useDebounce } from './useDebounce';

describe('useDebounce', () => {
  beforeEach(() => {
    vi.useFakeTimers();
  });

  afterEach(() => {
    vi.useRealTimers();
  });

  it('returns initial value immediately', () => {
    const { result } = renderHook(() => useDebounce('hello', 500));
    expect(result.current).toBe('hello');
  });

  it('updates value after delay', () => {
    const { result, rerender } = renderHook(
      ({ value }) => useDebounce(value, 500),
      { initialProps: { value: 'hello' } }
    );

    rerender({ value: 'world' });
    expect(result.current).toBe('hello');

    act(() => {
      vi.advanceTimersByTime(500);
    });

    expect(result.current).toBe('world');
  });
});
```

---

## 13. ä»£ç è´¨é‡å·¥å…·

### 13.1 ESLint é…ç½®

```javascript
// æ–‡ä»¶: .eslintrc.cjs
module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  extends: [
    'eslint:recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:react/recommended',
    'plugin:react-hooks/recommended',
    'plugin:jsx-a11y/recommended',
    'prettier',
  ],
  ignorePatterns: ['dist', '.eslintrc.cjs'],
  parser: '@typescript-eslint/parser',
  plugins: ['react-refresh'],
  settings: {
    react: { version: 'detect' },
  },
  rules: {
    // React
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'off',
    'react-refresh/only-export-components': ['warn', { allowConstantExport: true }],
    
    // TypeScript
    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
    '@typescript-eslint/no-explicit-any': 'error',
    '@typescript-eslint/explicit-function-return-type': 'off',
    
    // Hooks
    'react-hooks/rules-of-hooks': 'error',
    'react-hooks/exhaustive-deps': 'warn',
    
    // å¯è®¿é—®æ€§
    'jsx-a11y/anchor-is-valid': 'warn',
  },
};
```

### 13.2 Prettier é…ç½®

```json
// æ–‡ä»¶: .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "bracketSpacing": true,
  "arrowParens": "avoid",
  "endOfLine": "lf"
}
```

### 13.3 è·¯å¾„åˆ«åé…ç½®

```typescript
// æ–‡ä»¶: vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    proxy: {
      '/api': 'http://localhost:8080',
    },
  },
});
```

```json
// æ–‡ä»¶: tsconfig.json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  }
}
```

---

## 14. Git æäº¤è§„èŒƒ

### 14.1 Commit æ ¼å¼

é‡‡ç”¨ **Conventional Commits** æ ¼å¼ï¼Œä¸åç«¯ä¿æŒä¸€è‡´ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

#### Type ç±»å‹

| Type | è¯´æ˜ |
|------|------|
| `feat` | æ–°åŠŸèƒ½ |
| `fix` | Bug ä¿®å¤ |
| `docs` | æ–‡æ¡£æ›´æ–° |
| `style` | ä»£ç æ ¼å¼ï¼ˆä¸å½±å“é€»è¾‘ï¼‰ |
| `refactor` | é‡æ„ |
| `perf` | æ€§èƒ½ä¼˜åŒ– |
| `test` | æµ‹è¯•ç›¸å…³ |
| `chore` | æ„å»º/å·¥å…·å˜åŠ¨ |

#### Scope èŒƒå›´ï¼ˆå‰ç«¯ï¼‰

| Scope | è¯´æ˜ |
|-------|------|
| `ui` | UI ç»„ä»¶ |
| `api` | API è¯·æ±‚ |
| `router` | è·¯ç”± |
| `store` | çŠ¶æ€ç®¡ç† |
| `hooks` | è‡ªå®šä¹‰ Hooks |
| `pages` | é¡µé¢ç»„ä»¶ |
| `types` | ç±»å‹å®šä¹‰ |

#### ç¤ºä¾‹

```
feat(pages): add repo config page

- Add RepoConfigPage component
- Add config form with validation
- Add LLM provider selector

Closes #45
```

---

## 15. å¯è®¿é—®æ€§è§„èŒƒï¼ˆA11yï¼‰

### 15.1 åŸºæœ¬åŸåˆ™

```tsx
// âœ… å›¾ç‰‡å¿…é¡»æœ‰ alt å±æ€§
<img src="/logo.png" alt="Code-Sentinel Logo" />

// âœ… è¡¨å•å…ƒç´ å¿…é¡»æœ‰ label
<label htmlFor="repo-name">ä»“åº“åç§°</label>
<input id="repo-name" type="text" />

// âœ… æŒ‰é’®å¿…é¡»æœ‰å¯è¯†åˆ«çš„æ–‡æœ¬
<button aria-label="åˆ é™¤ä»“åº“">
  <TrashIcon />
</button>

// âœ… ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾
<nav>å¯¼èˆª</nav>
<main>ä¸»å†…å®¹</main>
<aside>ä¾§è¾¹æ </aside>
<footer>é¡µè„š</footer>

// âœ… ç„¦ç‚¹ç®¡ç†
<button className="focus:ring-2 focus:ring-blue-500 focus:outline-none">
  æŒ‰é’®
</button>
```

### 15.2 é”®ç›˜å¯¼èˆª

```tsx
// âœ… æ”¯æŒé”®ç›˜æ“ä½œ
function Dialog({ open, onClose, children }) {
  useEffect(() => {
    const handleEscape = (e: KeyboardEvent) => {
      if (e.key === 'Escape') onClose();
    };
    
    if (open) {
      document.addEventListener('keydown', handleEscape);
      return () => document.removeEventListener('keydown', handleEscape);
    }
  }, [open, onClose]);

  return open ? <div role="dialog" aria-modal="true">{children}</div> : null;
}
```

---

## 16. å›½é™…åŒ–é¢„ç•™ï¼ˆi18nï¼‰

### 16.1 æ–‡æ¡ˆç®¡ç†

```tsx
// æ–‡ä»¶: constants/messages.ts
export const MESSAGES = {
  common: {
    confirm: 'ç¡®è®¤',
    cancel: 'å–æ¶ˆ',
    save: 'ä¿å­˜',
    delete: 'åˆ é™¤',
    loading: 'åŠ è½½ä¸­...',
    success: 'æ“ä½œæˆåŠŸ',
    error: 'æ“ä½œå¤±è´¥',
  },
  repo: {
    createTitle: 'æ–°å»ºä»“åº“',
    editTitle: 'ç¼–è¾‘ä»“åº“',
    deleteConfirm: 'ç¡®å®šè¦åˆ é™¤è¯¥ä»“åº“å—ï¼Ÿ',
    nameRequired: 'ä»“åº“åç§°ä¸èƒ½ä¸ºç©º',
    nameFormat: 'æ ¼å¼åº”ä¸º owner/repo',
  },
  review: {
    listTitle: 'å®¡æŸ¥å†å²',
    noData: 'æš‚æ— å®¡æŸ¥è®°å½•',
  },
} as const;

// ä½¿ç”¨
import { MESSAGES } from '@/constants/messages';
<button>{MESSAGES.common.save}</button>
```

---

## 17. Code Review æ£€æŸ¥æ¸…å•

æäº¤ PR å‰ï¼Œè¯·ç¡®è®¤ï¼š

### ä»£ç è´¨é‡
- [ ] ç»„ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆPascalCaseï¼‰
- [ ] æ–‡ä»¶å‘½åç¬¦åˆè§„èŒƒ
- [ ] æ—  TypeScript ç±»å‹é”™è¯¯
- [ ] æ—  ESLint è­¦å‘Š
- [ ] æ—  console.log é—ç•™

### ç»„ä»¶è®¾è®¡
- [ ] ç»„ä»¶èŒè´£å•ä¸€
- [ ] Props æ•°é‡åˆç†ï¼ˆâ‰¤5ï¼‰
- [ ] æ­£ç¡®å¤„ç†åŠ è½½/é”™è¯¯/ç©ºçŠ¶æ€
- [ ] åˆ—è¡¨ä½¿ç”¨ç¨³å®šçš„ key

### æ€§èƒ½
- [ ] å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- [ ] åˆç†ä½¿ç”¨ memo/useMemo/useCallback
- [ ] è·¯ç”±ç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½

### å¯è®¿é—®æ€§
- [ ] å›¾ç‰‡æœ‰ alt å±æ€§
- [ ] è¡¨å•æœ‰ label
- [ ] æŒ‰é’®æœ‰å¯è¯†åˆ«æ–‡æœ¬
- [ ] æ”¯æŒé”®ç›˜å¯¼èˆª

### æ ·å¼
- [ ] ä½¿ç”¨åŸå­ç±»ï¼Œé¿å…å†…è” style
- [ ] å“åº”å¼é€‚é…
- [ ] æš—è‰²æ¨¡å¼å…¼å®¹ï¼ˆå¦‚éœ€è¦ï¼‰

---

## é™„å½• Aï¼šæ¨è VS Code æ’ä»¶

| æ’ä»¶ | ç”¨é€” |
|------|------|
| ESLint | ä»£ç æ£€æŸ¥ |
| Prettier | ä»£ç æ ¼å¼åŒ– |
| Tailwind CSS IntelliSense | Tailwind æ™ºèƒ½æç¤º |
| TypeScript Vue Plugin (Volar) | TypeScript æ”¯æŒ |
| Error Lens | å†…è”æ˜¾ç¤ºé”™è¯¯ |
| GitLens | Git å¢å¼º |
| Auto Rename Tag | è‡ªåŠ¨é‡å‘½åæ ‡ç­¾ |

---

## é™„å½• Bï¼šå¸¸ç”¨ä»£ç ç‰‡æ®µ

### B.1 é¡µé¢ç»„ä»¶æ¨¡æ¿

```tsx
import { useState } from 'react';
import { useQuery } from '@tanstack/react-query';

import { PageHeader } from '@/components/common/PageHeader';
import { LoadingSpinner } from '@/components/common/LoadingSpinner';
import { ErrorMessage } from '@/components/common/ErrorMessage';
import { EmptyState } from '@/components/common/EmptyState';

export function ExamplePage() {
  const [filters, setFilters] = useState({});
  const { data, isLoading, isError, error, refetch } = useExampleData(filters);

  if (isLoading) return <LoadingSpinner />;
  if (isError) return <ErrorMessage message={error.message} onRetry={refetch} />;
  if (!data?.items.length) return <EmptyState message="æš‚æ— æ•°æ®" />;

  return (
    <div className="space-y-6">
      <PageHeader title="é¡µé¢æ ‡é¢˜" />
      {/* é¡µé¢å†…å®¹ */}
    </div>
  );
}
```

### B.2 API Hook æ¨¡æ¿

```tsx
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { toast } from 'sonner';
import { exampleApi } from '@/api/example';

export const exampleKeys = {
  all: ['example'] as const,
  lists: () => [...exampleKeys.all, 'list'] as const,
  list: (filters: Filters) => [...exampleKeys.lists(), filters] as const,
  details: () => [...exampleKeys.all, 'detail'] as const,
  detail: (id: number) => [...exampleKeys.details(), id] as const,
};

export function useExampleList(filters: Filters) {
  return useQuery({
    queryKey: exampleKeys.list(filters),
    queryFn: () => exampleApi.list(filters),
  });
}

export function useCreateExample() {
  const queryClient = useQueryClient();
  return useMutation({
    mutationFn: exampleApi.create,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: exampleKeys.lists() });
      toast.success('åˆ›å»ºæˆåŠŸ');
    },
    onError: (error) => {
      toast.error(`åˆ›å»ºå¤±è´¥: ${error.message}`);
    },
  });
}
```

---

> ğŸ“Œ **è§„èŒƒæ˜¯ä¸ºäº†å›¢é˜Ÿåä½œæ›´é¡ºç•…ï¼Œè€ŒéæŸç¼šã€‚å¦‚æœ‰æ›´å¥½çš„å»ºè®®ï¼Œæ¬¢è¿æå‡ºä¿®æ”¹ã€‚**
